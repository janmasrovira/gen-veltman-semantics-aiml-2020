\documentclass{beamer}
% \usetheme{Luebeck}
% \usetheme{Madrid}
% \usetheme{Singapore}
\usetheme{Boadilla}

\usepackage{unicode-math}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{latexsym}
\usepackage{cancel}
\usepackage{xcolor}
\usepackage{xspace}
\usepackage{textcomp}
\setmonofont{FreeMono}

\usepackage[style=ieee]{biblatex}
\bibliography{refs}


\title{Generalised Veltman Semantics in Agda}
\author{Joost J. Joosten\inst{1} \and Jan Mas Rovira\inst{1}\and Luka Mikec\inst{2}}
\institute[shortinst]{\inst{1} University of Barcelona \and %
  \inst{2} University of Zagreb}
\date{August 26th 2020}

% Luka: Hi all! I agree with Joost's suggestion. Jan, also take into account
% that since our talk is a short presentation we have about 10 minutes to
% present (and then 5 minutes for questions). I'd suggest to focus on basics
% (what is Veltman semantics, what is Agda etc.) and less on the results

% Joost: Hi Jan, when composing the slides, please be very modest in your aims
% Here's what Luka writes about his presentation
% I'd suggest we focus on interpretability logics in general, then a bit about IL(All),
% Indeed, it is good to get the basics straight
% So, the first --at least-- five minutes should be dedicated entirely to
% a slow and gentle introduction to interpretability logics
% if not, the first seven
% if you want, you can sketch the idea
% but no full proofs
% ideas and summaries are more important

% We cannot assume that people know the logics that we work with
% so we have to slowly introduce them and motivate them
% give some examples
% The last five minutes can be used to hint at the work we have done
% Or last four minutes
\newcommand{\prin}[1]{\ensuremath{\textbf{\textup{#1}}}\xspace}
\newcommand{\il}{\prin{IL}}
\newcommand{\ilm}{\prin{ILM}}
\newcommand{\gl}{\prin{GL}}
\newcommand{\zf}{\prin{ZF}}
\newcommand{\ch}{\prin{CH}}
\newcommand{\veql}{\prin{(V=L)}}
\newcommand{\rn}{\ensuremath{\prin{R}^n}\xspace}
\newcommand{\rsn}{\ensuremath{\prin{R}_n}\xspace}
\newcommand{\principle}[1]{\text{$\mathsf{#1}$}}

\begin{document}

\frame{\titlepage}

\begin{frame}
  \frametitle{Introduction}
  \begin{itemize}
  \item Generalised Veltman semantics are a kind of relational semantics (√† la
    Kripke) for \textbf{interpretability logics}. \break \pause
    \item Agda is a \textbf{proof assistant} based on dependent type theory.
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Interpretability Logics}
  In the logic of provability \gl we have that:
  \begin{itemize}
    \item $‚ñ°A$ means ``A is provable''.
    \item $‚ô¢A$ means ``A is consistent''. Note that $‚ô¢A=¬¨‚ñ°¬¨A$.
  \end{itemize}
  The aim of \gl is to describe and prove the structural behaviour of the
  provability predicate.

  \pause \vspace{0.5cm}

  Interpretability logics extend the provability logic \gl. The language is
  $‚ü®‚Üí,‚ä•,‚ñ∑‚ü©$ and we can define $‚ñ°,‚ô¢,‚àß,‚à®$ with the usual meaning.
  \begin{itemize}
  \item $A‚ñ∑B$ means ``A interprets B''.
  \end{itemize}
  The aim is to find a logic that describes the behaviour
  of the interpretability predicate for arithmetical theories.
\end{frame}

\begin{frame}
  \frametitle{Interpretability Logics}
  \textbf{Definition} We say that a theory U interprets V if there is an
  interpretation of V into U.

  An interpretation of a theory $U$ into a theory $V$ is a translation $‚ãÜ$ that
  maps the non-logical symbols in the language of $U$ to formulas in the
  language of $V$ with the same free variables, in a way such that
  \[U‚ä¢œï‚áí V‚ä¢œï^‚ãÜ\]
\end{frame}

\begin{frame}
  \frametitle{Examples of interpretations}
  Examples of interpretations (\cite{visser1997overview}):
  \vspace{0.4cm}
  \begin{itemize}
  \item The interpretation of arithmetic in set theory.
    \pause
  \item G√∂del's interpretation of $\zf+\veql$ in \zf. This interpretation
    provides a relative consistency proof of \zf + \ch w.r.t. \zf.
    \pause
  \item The interpretation of elementary syntax in arithmetic. Important for
    G√∂del's incompleteness theorems.
  \end{itemize}

\end{frame}

\begin{frame}
  \frametitle{Logic \il}
  The logic \il is the base of all interpretability logics.

  \vspace{0.3cm} The rules are modus ponens and necessitation. It has all the
  theorems of \gl plus the following axioms schemes: \pause
  \begin{itemize}
  \item J1: $‚ñ° (A ‚Üí B) ‚Üí A ‚ñ∑ B$;
    \pause
  \item J2: $A ‚ñ∑ B ‚àß B ‚ñ∑ C ‚Üí A ‚ñ∑ C$;
    \pause
  \item J3: $(A ‚ñ∑ C ‚àß B ‚ñ∑ C) ‚Üí (A ‚à® B) ‚ñ∑ C$;
    \pause
  \item J4: $A ‚ñ∑ B ‚Üí ‚ô¢ A ‚Üí ‚ô¢ B$;
    \pause
  \item J5: $‚ô¢ A ‚ñ∑ A$.
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Logic \ilm}

  The logic ILM is defined as \il + \prin{M}, where
  \[\prin{M}‚âî A ‚ñ∑ B ‚Üí (A ‚àß ‚ñ° C) ‚ñ∑ (B ‚àß ‚ñ° C).\]

  The theorems of $\textsf{ILM}$ are the set of interpretability principles that
  are always provable in theories which are $Œ£_1$ sound, have full induction and
  prove consistency of its finite subsystems. An example of such theory
  is $\textsf{PA}$.

  % \vspace{0.4cm}
  % \pause
  % If $ILM‚ä¢A‚ñ∑B$ then we know that $?$.
\end{frame}

\begin{frame}
  \frametitle{Generalised Veltman Semantics}
  A \textbf{generalised Veltman frame} (GVF) is a tuple $‚ü®W,R,S‚ü©$ with $R‚äÜW√óW$,
  $S‚äÜW√óW√ó(ùí´(W)‚àñ\{‚àÖ\})$ where:
  \begin{itemize}
    \item $R$ is transitive and conversely well-founded;
    \item if $uS_wY$ then $wRu$ and $R[w]‚äÜY$;
    \item if $wRu$ then $uS_w\{u\}$;
    \item if $wRuRv$ then $uS_w\{v\}$;
    \item if $uS_wY$ and for all $y‚ààY$ we have $yS_wZ_y$ then $uS_w\left(‚ãÉ_{y‚ààY}Z_y\right)$.
  \end{itemize}

  \pause
  \vspace{0.3cm}
  A \textbf{generalised Veltman model} (GVM) is a tuple $‚ü®W,R,S,V‚ü©$ where
  $‚ü®W,R,S‚ü©$ is a GVF and $V‚äÜW√óVar$ is a valuation.
\end{frame}

\begin{frame}
  \frametitle{Generalised Veltman Semantics}
  Given a GVM $‚ü®W,R,S,V‚ü©$ we define $‚ä©\ ‚äÜW√óFm$ as follows:
  \begin{itemize}
    \item $w‚äÆ‚ä•$;
    \item $w‚ä©p$ iff $‚ü®w,p‚ü©‚ààV$;
    \item $w‚ä©A‚ÜíB$ iff $w‚ä©A$ implies $w‚ä©B$;
    \item $w‚ä©‚ñ°A$ iff for all $u$ such that $wRu$ we have $u‚ä©A$;
    \item $w‚ä©‚ô¢A$ iff there is some $u$ such that $wRu$ and $u‚ä©A$;
      \pause
    \item $w‚ä©A‚ñ∑B$ iff $wRu$ and $u‚ä©A$ implies that there exists some $Y$ such
      that $uS_wY$ and for all $y‚ààY$ we have $y‚ä©B$.
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Frame conditions}
  Given any principle $P$ we say that a first order (or higher order) formula
  $(P)_{gen}$ is the \textbf{frame condition} for $P$ if for any GVF $F$ we have
  \[F‚ä®(P)_{gen}‚áîF‚ä©P\]
  Where $F‚ä©P$ iff $‚ü®F,V‚ü©‚ä©P$ for any valuation $V$.
  \pause

  \vspace{0.7cm}

  Example: The frame condition $(M)_{gen}$ is
  \[ ‚àÄw,x,V(xS_wV‚áí ‚àÉV'‚äÜV(xS_wV',‚àÄv'‚ààV'‚àÄz(v'Rz‚áíxRz))).\]
\end{frame}

\begin{frame}
  \frametitle{The series of principles \rn and \rsn}
  The series of principles \rn and \rsn are defined in \cite{two-new-series} by
  Goris and Joosten.

  They appear in the (best known) lower bound of \prin{IL(All)}, which is
  $\prin{ILWR}^n\prin{R}_n$.
  \begin{flalign*}
    U_0 &‚âî ‚ô¢¬¨(D_0‚ñ∑¬¨C) \\
    U_{r+1} &‚âî ‚ô¢((D·µ£‚ñ∑D_{r+1}) ‚àß U·µ£) \\
    \\
    R‚Å∞& ‚âî A ‚ñ∑ B ‚Üí ¬¨ (A ‚ñ∑ ¬¨ C) ‚ñ∑ B ‚àß ‚ñ° C \\
    R^{n+1}& ‚âî A ‚ñ∑ B ‚Üí ((D_{n}‚ñ∑A) ‚àß U_{n}) ‚ñ∑ B ‚àß ‚ñ° C
  \end{flalign*}

  We have found frame conditions for generalised Veltman semantics for $R^n$ and
  $R_1$. The proofs have been formalised in Agda.
\end{frame}

\begin{frame}[fragile]
  \frametitle{Agda}
  Agda is a \textbf{proof assistant} based on an extension of Martin L√∂f's constructive
  type theory.

  \pause
  How we prove things in Agda? We use types to express mathematical properties
  and then we construct a term of that type which shows that there exists a proof
  for that property.

  \pause
  Example:
\begin{verbatim}
 ‚ä©J1 : ‚àÄ {M w A B} ‚Üí M , w ‚ä© ‚ñ° (A ‚Üù B) ‚Üù A ‚ñ∑ B
 ‚ä©J1 = ...
\end{verbatim}

  \vspace{0.3cm}
  \pause
  Papers that use Agda (\textasciitilde 200):

  \url{https://wiki.portal.chalmers.se/agda/Main/PapersUsingAgda}

  \vspace{0.3cm}

  \url{https://researchr.org/bibliography/agda-papers/publications}
\end{frame}


\begin{frame}
  \frametitle{Agda formalisation}
  Our Agda library includes (\textasciitilde 5k lines of code):
  \begin{itemize}
  \item Definition of ordinary and generalised Veltman Semantics.
  \item Definition of logic IL and many of the relevant interpretability
    principles in conjunction with their proven frame conditions. These include
    $\principle{M}$, $\principle{P_0}$, $\principle{R}$, $\principle{M_0}$ for
    both semantics and $\principle{R^n}$, $\principle{R_1}$ for generalised
    semantics.
  \item A verified embedded domain specific language for Hilbert style proofs
    for the logic \il.
  \item and more... (\cite{MasRovira:2020:MastersThesis})
  \end{itemize}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Hilbert style proofs in Agda}
\begin{verbatim}
‚ä¢A‚ñ∑A : ‚àÄ {A} ‚Üí [] ‚ä¢ A ‚ñ∑ A
‚ä¢A‚ñ∑A {A} =
  begin[ 0 ] A ‚Üù A                    By ‚ä¢A‚ÜùA
       [ 1 ] ‚ñ° (A ‚Üù A)                ByNec 0
       [ 2 ] ‚ñ° (A ‚Üù A) ‚Üù (A ‚ñ∑ A)      By J1
       [ 3 ] A ‚ñ∑ A                    ByMP 2 , 1
       ‚ñ†
\end{verbatim}
\end{frame}

\begin{frame}
  \frametitle{Open source}
  \centering
  \url{https://gitlab.com/janmasrovira/interpretability-logics}
\end{frame}

\begin{frame}
  \centering \Huge Thank you!
\end{frame}

\begin{frame}[allowframebreaks]
  \nocite{MasRovira:2020:MastersThesis}
  \nocite{joosten2020overview}
  \printbibliography
\end{frame}

\end{document}